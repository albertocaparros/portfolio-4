---
import Expander from './Expander';
import Pill from './Pill.astro';

const {
  imgSrc,
  title,
  subtitle,
  tags,
  expandId,
  smallWidth = 64,
  bigWidth = 200,
} = Astro.props;
---

<div class="clickable my-4 flex items-center justify-around gap-2">
  <img
    srcset={`/img/${imgSrc}-small.webp ${smallWidth}w, /img/${imgSrc}.webp ${bigWidth}w`}
    alt={imgSrc}
    sizes="(max-width: 1024px) 64px, 200px"
    class="h-16 w-16 rounded-full border border-sky-50"
  />
  <div class="class= flex-1 text-left">
    <h3 class="text-base font-bold lg:text-lg" data-i18n-key={`${title}`}>
      {title}
    </h3>
    <span class="text-xs lg:text-base" data-i18n-key={`${subtitle}`}
      >{subtitle}</span
    >
    {
      tags && (
        <ul class="tag_list mt-2 flex flex-wrap justify-items-stretch gap-2">
          {tags.map((tag) => (
            <Pill textSize="xs" tag={tag} />
          ))}
        </ul>
      )
    }
  </div>
  {
    expandId && (
      <button aria-label="Expand">
        <Expander client:load expandId={expandId} />
      </button>
    )
  }
</div>
